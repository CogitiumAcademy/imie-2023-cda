{% extends 'layout.html.twig' %}

{% block final_stylesheets %}
{% endblock %}

{% block title %}Liste des commentaires{% endblock %}
{% block module %}Commentaires{% endblock %}
{% block action %}Liste{% endblock %}

{% block content %}

		<!-- Row -->
		<div class="row row-sm">
			<div class="col-lg-12">
				<div class="card custom-card">
					<div class="card-body">
						<div class="table-responsive">
							<table class="table table-bordered" id="example2">
								<thead>
									<tr>
										<th class="wd-20p">
                                            Id
                                            <button{% if comments.isSorted('c.id') %} class="btn btn-small btn-danger"{% else %} class="btn btn-small btn-primary"{% endif %}>
                                                {{ knp_pagination_sortable(comments, 'Tri', 'c.id') }}
                                            </button>
                                        </th>
										<th class="wd-25p">Utilisateur</th>
										<th class="wd-20p">Article</th>
										<th class="wd-20p">
                                            Contenu
                                            <button{% if comments.isSorted('c.content') %} class="btn btn-small btn-danger"{% else %} class="btn btn-small btn-primary"{% endif %}>
                                                {{ knp_pagination_sortable(comments, 'Tri', 'c.content') }}
                                            </button>
                                        </th>
										<th class="wd-20p">Actions</th>
									</tr>
								</thead>
								<tbody>

									{% for comment in comments %}
										<tr>
											<td>{{ comment.id }}</td>
											<td>{{ comment.user.displayName }}</td>
											<td>{{ comment.post.title }}</td>
											<td>{{ comment.content }}</td>
											<td>
												<a href="{{ path('admin_comment_delete', {id: comment.id}) }}" class="btn btn-primary btn-sm" onclick="return confirm('Etes-vous certain ?')">Supprimer</a>
											</td>
										</tr>
									{% endfor %}

								</tbody>
							</table>
                            
                            {{ knp_pagination_render(comments) }}

						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- End Row -->

{% endblock %}

{% block final_javascripts %}
{% endblock %}
